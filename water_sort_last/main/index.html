<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-506H2FQ71K"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-506H2FQ71K');
    </script>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ä–µ—à–∞—Ç–µ–ª—å –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –†–µ–∞–≥–µ–Ω—Ç–æ–≤ –∏–∑ –∏–≥—Ä—ã Puzzle and Survival" />
    <meta name="author" content="470[TPM]OB-HAVE" />
    <title>NEW –†–µ—à–∞—Ç–µ–ª—å –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –†–µ–∞–≥–µ–Ω—Ç–æ–≤ –≤ –∏–≥—Ä–µ Puzzle &amp; Survival</title>

    <link rel="shortcut icon" href="favicon-32x32.png" type="image/x-icon" />
    <link rel="icon" href="favicon-32x32.png" type="image/x-icon" />

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
	<link rel="stylesheet" href="styles/index.css" />

</head>
<body>
	<div class="container" style="max-width: 435px; margin: 0 auto; padding-top: 15px;">
    <ul style="list-style-type:none; padding-left: 0; margin-bottom: 15px;">
      <li style="text-align: center;">
        <a style="font-size:small;" href="https://www.robertfidler.com/puzzle-n-survival/index.html" target="_blank">–†–µ—à–∞—Ç–µ–ª—å Water Sort –∏ Ball Sort</a>
        <div style="clear: both; text-align: left;">
          <p>–°—Å—ã–ª–∫–∞ –≤—ã—à–µ –≤–µ–¥—ë—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é, –∫–æ—Ç–æ—Ä—É—é —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤–æ–µ–π –≤–µ—Ä—Å–∏–∏ —Ä–µ—à–∞—Ç–µ–ª—è Water Sort. –û—Å–æ–±–∞—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∞–≤—Ç–æ—Ä—É.</p>
	  <p class="highlight-box">
		–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∏ –≤—ã—Å—Ç–∞–≤–∏—Ç—å —Ü–≤–µ—Ç–∞.
	  </p>
        </div>
      </li>
    </ul>
  </div>

<!-- –ë–ª–æ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ -->
<div id="controls-container" class="container">
  <form role="form" style="max-width: 700px; margin: 0 auto; display: flex; flex-direction: column; gap: 10px;">

    <!-- –ü–µ—Ä–≤—ã–π —Ä—è–¥ -->
    <div class="form-group" style="display: flex; gap: 10px; flex-wrap: nowrap;">
      <div class="input-group" style="flex: 1 1 0; min-width: 0;">
        <span class="input-group-addon">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–±–∏—Ä–æ–∫</span>
        <input type="number" class="form-control" min="3" max="18"
               data-bind="enable: CanSolve, value: NumberOfTubes" />
      </div>
      <button type="button" class="btn btn-success"
              data-bind="enable: CanSolve, click: Solve"
              style="flex: 0 0 auto; white-space: nowrap;">
        <span class="glyphicon glyphicon-ok"></span> <span data-bind="text: SolvedLabel"></span>
      </button>
    </div>

    <!-- –í—Ç–æ—Ä–æ–π —Ä—è–¥ -->
    <div class="form-group" style="display: flex; gap: 10px; flex-wrap: nowrap;">
      <button type="button" class="btn btn-info" data-bind="click: Back, enable: CanBack"
              style="flex: 1 1 0; min-width: 0; white-space: nowrap;">
        <span class="glyphicon glyphicon-arrow-left"></span> –ù–∞–∑–∞–¥
      </button>

      <input type="text" readonly class="form-control text-center"
             data-bind="enable: CanStep, value: SolutionLabel"
             style="flex: 1 1 0; min-width: 0;" />

      <button type="button" class="btn btn-info" data-bind="click: Step, enable: CanStep"
              style="flex: 1 1 0; min-width: 0; white-space: nowrap;">
        –í–ø–µ—Ä–µ–¥ <span class="glyphicon glyphicon-arrow-right"></span>
      </button>
    </div>

    <!-- –¢—Ä–µ—Ç–∏–π —Ä—è–¥ -->
    <div class="form-group" style="display: flex; gap: 10px; flex-wrap: nowrap;">
      <button type="button" class="btn btn-warning"
              data-toggle="modal" data-target="#myModalClearConfirmation"
              style="flex: 1 1 0; min-width: 0; white-space: nowrap;">
        <span class="glyphicon glyphicon-remove-circle"></span> –û—á–∏—Å—Ç–∏—Ç—å
      </button>

      <button type="button" class="btn btn-danger"
              data-bind="click: Reset"
              style="flex: 1 1 0; min-width: 0; white-space: nowrap;">
        <span class="glyphicon glyphicon-refresh"></span> –°–±—Ä–æ—Å
      </button>
    </div>

  </form>
</div>



  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="container" style="max-width: 435px; margin: 0 auto;">
    <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
    <div class="text-center" style="margin-bottom: 20px;">
      <canvas id="canvas" class="disable-dbl-tap-zoom" width="435" height="620">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç canvas.
      </canvas>
      <div class="offcanvas offcanvas-bottom" tabindex="-1" id="offcanvasTextarea" aria-labelledby="offcanvasTextareaLabel">
        <div class="offcanvas-body" style="width: 435px; margin: 0 auto;">
          <textarea class="form-control" rows="5" placeholder="–ù–∞–∂–º–∏—Ç–µ ¬´–†–µ—à–∏—Ç—å¬ª, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ö–æ–¥—ã..." data-bind="value: OutputWindow" style="resize: none;"></textarea>
        </div>
      </div>
    </div>

    <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
<div>
  <form id="PuzzleSetup">
    <h4>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è / Instructions</h4>
    <ul class="nav nav-sidebar well">
      <li style="font-family: Courier New, Courier, monospace">
        <div class="row">
          <div class="col-12">
            <h5 style="color: #007bff; font-weight: bold; margin-bottom: 15px;">üá∑üá∫ –†—É—Å—Å–∫–∏–π</h5>
            <ul style="list-style-type: disc; padding-left: 20px; margin-bottom: 25px;">
              <li style="color: black; margin-bottom: 8px;">
                <strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–±–∏—Ä–æ–∫:</strong>
                <ul style="margin-top: 5px;">
                  <li>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π —Å–µ–≥–º–µ–Ω—Ç –ø—Ä–æ–±–∏—Ä–∫–∏ (—Ü–≤–µ—Ç–Ω–æ–π –∏–ª–∏ —Å–µ—Ä—ã–π)</li>
                  <li>–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ü–≤–µ—Ç –∏–∑ –ø–∞–ª–∏—Ç—Ä—ã (20 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤)</li>
                  <li>–ù–∞–∂–º–∏—Ç–µ "–û—á–∏—Å—Ç–∏—Ç—å" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞ –∏–∑ —Å–µ–≥–º–µ–Ω—Ç–∞</li>
                </ul>
              </li>
              <li style="color: black; margin-bottom: 8px;">
                <strong>–†–µ—à–µ–Ω–∏–µ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏:</strong>
                <ul style="margin-top: 5px;">
                  <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ü–≤–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–æ–≤–Ω–æ 4 —Ä–∞–∑–∞</li>
                  <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–†–µ—à–∏—Ç—å" –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–µ—à–µ–Ω–∏—è</li>
                  <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ "–í–ø–µ—Ä–µ–¥" –∏ "–ù–∞–∑–∞–¥" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —à–∞–≥–æ–≤</li>
                </ul>
              </li>
            </ul>
            
            <h5 style="color: #28a745; font-weight: bold; margin-bottom: 15px;">üá∫üá∏ English</h5>
            <ul style="list-style-type: disc; padding-left: 20px; margin-bottom: 25px;">
              <li style="color: black; margin-bottom: 8px;">
                <strong>Setting up tubes:</strong>
                <ul style="margin-top: 5px;">
                  <li>Click on any tube segment (colored or gray)</li>
                  <li>Select the desired color from the palette (20 preset colors)</li>
                  <li>Click "Clear" to remove color from segment</li>
                </ul>
              </li>
              <li style="color: black; margin-bottom: 8px;">
                <strong>Solving puzzle:</strong>
                <ul style="margin-top: 5px;">
                  <li>Ensure each color is used exactly 4 times</li>
                  <li>Click "Solve" button to find solution</li>
                  <li>Use "Forward" and "Back" buttons to view solution steps</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
        
        <hr style="margin: 20px 0;" />
        
        <div class="row">
          <div class="col-12">
            <div style="background-color: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #007bff;">
              <h6 style="color: #007bff; margin-bottom: 10px;">üí° –°–æ–≤–µ—Ç / Tip:</h6>
              <p style="margin: 0; color: #6c757d; font-size: 14px;">
                <strong>RU:</strong> –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∫–∞–∂–¥—ã–π —Ü–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è —Ä–æ–≤–Ω–æ 4 —Ä–∞–∑–∞ –≤ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–µ.<br>
                <strong>EN:</strong> For correct solving, each color must appear exactly 4 times in the puzzle.
              </p>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </form>
</div>


  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div class="modal fade" id="myModalClearConfirmation" tabindex="-1" role="dialog" aria-labelledby="myModalClearLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalClearLabel">–û—á–∏—Å—Ç–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏</h4>
        </div>
        <div class="modal-body">
          –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–±—Ä–æ—Å–∏—Ç —Ç–µ–∫—É—â—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏ –∏ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
          <button type="button" class="btn btn-warning" data-bind="click: Clear">
            <span class="glyphicon glyphicon-remove-circle"></span>&nbsp;&nbsp;–û—á–∏—Å—Ç–∏—Ç—å
          </button>
        </div>
      </div>
    </div>
  </div>

  <div id="snackbar" data-bind="class: ToastClasses" role="alert">
    <strong data-bind="text: DisplayTagLine"></strong>&nbsp;<span data-bind="text: DisplayMessage"></span>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="../../code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="../../code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <script src="../../cdn.jsdelivr.net/npm/js-cookie%403.0.5/dist/js.cookie.min.js"></script>
  <script src="../../maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script src="../../cdnsrc.asp.net/ajax/knockout/knockout-3.5.0.js"></script>
  <script src="../../chir.ag/projects/ntc/ntc.js"></script>
  <script src="scripts/PalletModel.js"></script>
  <script src="scripts/TubeModel.js"></script>
  <script src="scripts/Stack.js"></script>
  <script src="scripts/GameState.js"></script>
  <script src="scripts/GameDisplay.js"></script>
  <script src="scripts/WaterSortViewModel.js"></script>

  <script>
    $(function () {
      $('[data-toggle="tooltip"]').tooltip();
      var tubes = [
        [1, "BGBL"],
        [2, "IDLB"],
        [3, "GLIL"],
        [4, "DBIK"],
        [5, "KDHK"],
        [6, "HGHI"],
        [7, "KHGD"],
        [8, ""],
        [9, ""]
      ];
	  var pallet = [
        ["A", "#e4627c"], ["B", "#de372f"], ["C", "#794d1e"], ["D", "#752037"],
        ["E", "#ec8525"], ["F", "#175c23"], ["G", "#a3067c"], ["H", "#41d575"],
        ["I", "#473cc6"], ["J", "#5ca6e1"], ["K", "#8732cd"], ["L", "#d695d5"],
        ["M", "#c8866e"], ["N", "#119579"], ["O", "#1d2e36"], ["P", "#ff69b3"],
		["Q", "#4b0081"], ["R", "#fed700"], ["S", "#81007f"], ["T", "#EE82EE"]
      ];
      var vm = new WaterSortViewModel({ "Tubes": tubes, "Pallet": pallet });
      ko.applyBindings(vm);
      vm.UpdateOnChangeEvents();
    });
  </script>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ -->
<div id="colorPickerModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" data-bind="text: CurrentEditingPaletteColor ? '–ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –≤ –ø–∞–ª–∏—Ç—Ä–µ' : '–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç –¥–ª—è –∫–æ–ª–±—ã'">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç</h5>
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="colorPalette" class="color-palette">
                    <!-- –¶–≤–µ—Ç–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                <div class="mt-2">
                    <button type="button" class="btn btn-secondary btn-sm" data-bind="click: ClearTubeColor()" 
                            data-bind="text: CurrentEditingPaletteColor ? '–£–¥–∞–ª–∏—Ç—å —Ü–≤–µ—Ç' : '–û—á–∏—Å—Ç–∏—Ç—å'">
                        –û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>


</body>
</html>
